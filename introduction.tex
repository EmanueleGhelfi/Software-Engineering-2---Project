
\section{Introduction}

\subsection{Description of the given problem}

The purpose of this document is to support the development of a software
that manages a car sharing services. The aim of this software is to
make the reservation of cars simple and quick. So the system should
provide users with real time information about avaiability of cars,
and their positions. Users, after the resevation, can directly get
their cars in pre-defined parking areas. The service will be sccessible
only to user that have made the registration, giving some personal
information and data needed to the payment. The price of the ride
is computed with a fixed amount of minutes, displayed by the car,
and finally charged. To avoid useless reservation, where a user doesn't
pick up the car, the system should be able to detect that after a
fixed time, retag the car avaiable, and charge with a fee the user.
Cars must be loked in the safe areas, and only users that have made
the reservation can unlock them.

\subsection{Glossary and abbreviations}
\begin{itemize}
\item VIRTUOUS BEHAVIOUR:
\begin{itemize}
\item Behaviour that makes simple the maintance of the cars and reservation
areas.
\item Behaviour helps to reduce the traffic impact.
\item To park in defined safe areas.
\end{itemize}
\item Car STATUS, that can assume the following meaning:
\begin{itemize}
\item Free: it can be reserved.
\item Reserved: has alreasy been reserved.
\item Busy: a user is driving the car.
\item Under maintenance: an OPERATOR is fixing some car problem.
\item In charge: the car is plugged in a charging station.
\end{itemize}
\item Car INFORMATION are technical information about car, useful for mantainance.
\end{itemize}

\subsection{Actors}

These are the people that will be involved in the use cases of the
software to be developed:
\begin{itemize}
\item GUEST: a person that hasn't made the registration to the service.
\item USER: a person that has already registered to the system.
\item OPERATOR: an employee of the company that takes maintenance of cars
and charging area.
\item ADMIN: a person that can manage system status with privileged actions.
\end{itemize}

\subsection{Assumptions}

There are few point that aren't well specified in the assignement
document. The purpose of this section is to formalize some facts that
complete the specification.
\begin{itemize}
\item Also GUESTs are able to search cars, in order to induce them to create
an account.
\item There are no information about cars' maintenance, so in the document
is made the assumption that cars need OPERATOR presence to keep an
acceptable status.
\item USERs can't delete reservations.
\item The system relies on external payment methods. The accepted methods
are Mastercard, Visa, PayPal, PostePay.
\item If a payment fails because of an insufficient money availability of
the user, the USER is suspended from the service until the payment
is done.
\item In order to induce USER to park in safe areas, USER that does not
park in safe areas will pay a fee.
\item There are no assumptions on how the safe areas are managed, so it
is assumed that it is possible for ADMINs to add or remove them in
order to ensure flexibility of the system.
\end{itemize}

\subsection{Domain assumptions}
\begin{itemize}
\item {[}D1{]} Cars positions provided by GPS are accurate,
\item {[}D2{]} The USER and GUEST position provided by GPS are accurate.
\item {[}D3{]} Cars provide remote comunication API
\item {[}D4{]} Cars provide screen to display current charge to user.
\item {[}D5{]} Cars can detect how many passengers are on it.
\item {[}D6{]} Cars can detect if they are plugged.
\item {[}D7{]} Cars can detect their battery level.
\item {[}D8{]} Cars can detect information about maintenance needs.
\item {[}D9{]} If a USER detect a malfuncion comunicate it.
\item {[}D10{]} If an OPERATOR is notified by the system about a maintenance
need, he take care of that.
\item {[}D11{]} OPERATORs does not share their credential.
\item {[}D12{]} ADMINs does not share their credential.
\item /{*}se un utente apre sale, va dove vuole andare e non si schianta{*}/
\item /{*}non danno in giro la password{*}/
\end{itemize}

\subsection{Goals}

The objectives of the software to be are the following:
\begin{itemize}
\item {[}G1{]} USERs must be able to reserve a car and use it.
\begin{itemize}
\item {[}G1.1{]} USER should be able to reserve a car\@.
\item {[}G1.2{]} USER should be able to unlock reseved car when they are
close to it.
\item {[}G1.3{]} USER should be aware of how much they are going to pay
during the ride.
\end{itemize}
\item {[}G2{]} The reservation of two (or more) cars at a time must be forbidden.
\item {[}G3{]} USER and GUEST must be able to search cars.
\begin{itemize}
\item {[}G3.1{]} USER should be able to search cars near his position.
\item {[}G3.2{]} USER should be able to search cars near a selected position.
\end{itemize}
\item {[}G4{]} Induce USER to keep a VIRTUOUS BEHAVIOUR.
\begin{itemize}
\item {[}G4.1{]} A discount of 10\% should be applied to rides with at least
two passengers. 
\item {[}G4.2{]} If a car is left with no more than 50\% battery empty,
a discount of 20\% should be applied to the last ride.
\item {[}G4.3{]} If a car is left at more than 3 km from the nearest charging
area, the system should charges 30\% more on the last ride.
\item {[}G4.4{]} If a car is left with more than 80\% battery empty, the
system should charges 30\% more on the last ride. 
\item {[}G4.5{]} If a car is left in a charging area and the user plugs
the car into the power grid, a discount of 30\% should be applied
to the last ride.
\item {[}G4.6{]} If a car is not picked up within one hour from the reservation,
the USER should pay a fee of 1 EUR.
\item {[}G4.7{]} If a payment fails because of insufficient money availability
of the USER, the USER should be suspended from the service until the
payment is done.
\item {[}G4.8{]} If a USER parks in an area that is not a safe area, the
USER should pay a fee.
\end{itemize}
\item {[}G5{]} USER have to pay an amount of money based on the ride's duration.
\item {[}G6{]} Guarantee a ready maintenance of cars.
\begin{itemize}
\item {[}G6.1{]} OPERATOR must be able to do car mantainance, knowing their
position and status.
\item {[}G6.2{]} USER must be able to comunicate to the system cars damages
and malfunctions. 
\end{itemize}
\item {[}G7{]} ADMIN must be able to manage the system.
\begin{itemize}
\item {[}G7.1{]} ADMIN must be able to manage safe areas.
\item {[}G7.2{]} ADMIN must be able to manage OPERATORs.
\end{itemize}
\end{itemize}

\subsection{Document overview}

/{*}here we will describe the document contents organization{*}/
